<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Navbar</title>
</head>
<body>
<div th:fragment="navbar (searchDto)">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-3">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="d-flex">
                <a th:href="@{/}" class="navbar-brand me-5">Drive</a>
                <span sec:authorize="isAuthenticated()" sec:authentication="name" class="navbar-text"></span>
            </div>

            <form sec:authorize="isAuthenticated()" th:action="@{/search}" th:object="${searchDto}" class="d-flex col-4" role="search">
                <label>
                    <input th:field="*{query}" class="form-control me-2" type="search" placeholder="Search">
                </label>
                <button class="btn btn-outline-success">Search</button>
            </form>

            <a sec:authorize="isAuthenticated()" class="btn btn-secondary ms-3" role="button" th:href="@{/logout}">Logout</a>
            <a sec:authorize="!isAuthenticated()" class="btn btn-secondary ms-3" role="button" th:href="@{/signup}">Sign up</a>
        </div>
    </nav>
</div>
</body>
</html>